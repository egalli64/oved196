--------------------------------------------------------
--  File creato - luned√¨-febbraio-18-2019   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table GREEN_ROLES
--------------------------------------------------------

  CREATE TABLE "OVED"."GREEN_ROLES" 
   (	"ROLE_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"ROLE_NAME" VARCHAR2(30 BYTE), 
	"CODER_ID" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table GREEN_CODERS
--------------------------------------------------------

  CREATE TABLE "OVED"."GREEN_CODERS" 
   (	"CODER_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"FIRST_NAME" VARCHAR2(30 BYTE), 
	"LAST_NAME" VARCHAR2(30 BYTE), 
	"TEAM_ID" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table GREEN_TEAMS
--------------------------------------------------------

  CREATE TABLE "OVED"."GREEN_TEAMS" 
   (	"TEAM_ID" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"TEAM_NAME" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into OVED.GREEN_ROLES
SET DEFINE OFF;
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('1','View','21');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('2','Controller','18');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('3','Tester','20');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('4','Model','19');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('5','View','10');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('6','Controller','11');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('7','Tester','12');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('8','Model','13');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('9','View','14');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('10','Controller','15');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('11','Tester','16');
Insert into OVED.GREEN_ROLES (ROLE_ID,ROLE_NAME,CODER_ID) values ('12','Model','17');
REM INSERTING into OVED.GREEN_CODERS
SET DEFINE OFF;
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('10','LUCA','MARASCIO','2');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('11','CHRISTIAN','RONDENA','2');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('12','GIOVANNI','PATRONE','2');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('13','GIOVANNI','CUFARI','2');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('14','LUANA','GIGLIOTTI','3');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('15','ALESSANDRA','NAPOLI','3');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('16','ENRICO','DELIBORI','3');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('17','MICHELE','VATRI','3');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('18','ALESSANDRA','D_ISABELLA','1');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('19','KELLY','MIOTTO','1');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('20','CARLO','CONTESTABILE','1');
Insert into OVED.GREEN_CODERS (CODER_ID,FIRST_NAME,LAST_NAME,TEAM_ID) values ('21','RICCARDO','GARRITANO','1');
REM INSERTING into OVED.GREEN_TEAMS
SET DEFINE OFF;
Insert into OVED.GREEN_TEAMS (TEAM_ID,TEAM_NAME) values ('1','GREEN');
Insert into OVED.GREEN_TEAMS (TEAM_ID,TEAM_NAME) values ('2','RED');
Insert into OVED.GREEN_TEAMS (TEAM_ID,TEAM_NAME) values ('3','BLUE');
--------------------------------------------------------
--  DDL for Index SYS_C007763
--------------------------------------------------------

  CREATE UNIQUE INDEX "OVED"."SYS_C007763" ON "OVED"."GREEN_ROLES" ("ROLE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C007738
--------------------------------------------------------

  CREATE UNIQUE INDEX "OVED"."SYS_C007738" ON "OVED"."GREEN_CODERS" ("CODER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C007736
--------------------------------------------------------

  CREATE UNIQUE INDEX "OVED"."SYS_C007736" ON "OVED"."GREEN_TEAMS" ("TEAM_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table GREEN_ROLES
--------------------------------------------------------

  ALTER TABLE "OVED"."GREEN_ROLES" MODIFY ("ROLE_ID" NOT NULL ENABLE);
  ALTER TABLE "OVED"."GREEN_ROLES" ADD PRIMARY KEY ("ROLE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table GREEN_CODERS
--------------------------------------------------------

  ALTER TABLE "OVED"."GREEN_CODERS" MODIFY ("CODER_ID" NOT NULL ENABLE);
  ALTER TABLE "OVED"."GREEN_CODERS" ADD PRIMARY KEY ("CODER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table GREEN_TEAMS
--------------------------------------------------------

  ALTER TABLE "OVED"."GREEN_TEAMS" MODIFY ("TEAM_ID" NOT NULL ENABLE);
  ALTER TABLE "OVED"."GREEN_TEAMS" ADD PRIMARY KEY ("TEAM_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;

 
 CREATE TABLE COD_ROLE(

CODER_ID INT REFERENCES GREEN_CODERS(CODER_ID),
ROLE_ID INT REFERENCES GREEN_ROLES(ROLE_ID),

primary key(CODER_ID, ROLE_ID)

);

INSERT INTO COD_ROLE(

select GREEN_CODERS.CODER_ID,GREEN_ROLES.ROLE_ID from GREEN_CODERS inner JOIN GREEN_ROLES ON GREEN_ROLES.CODER_ID = GREEN_CODERS.CODER_ID);

